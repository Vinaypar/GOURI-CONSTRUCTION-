var shellPerformance=window.performance,HighResolutionTimingSupported=!!shellPerformance&&"function"==typeof shellPerformance.mark;HighResolutionTimingSupported&&shellPerformance.mark("shell_themeplus_start"),(self["suiteux_shell_webpackJsonp_suiteux-bootstrapper"]=self["suiteux_shell_webpackJsonp_suiteux-bootstrapper"]||[]).push([["themeplus"],{6155:function(e,t,r){r.r(t),r.d(t,{applySearchStyles:function(){return u},getAllThemes:function(){return o},getUserThemeByID:function(){return i},loadAllTheme:function(){return c},saveDarkModePreference:function(){return h},setModeLogo:function(){return m}});var n=r(3448),s=r(1011),a=r(3481),l=r(585);function o(e,t){(0,s.Lo)().subscribe("StringsLoaded",(r=>{c().then((n=>{let o=(0,s.q4)().getThemeState(),u=(0,l.bp)(n,o.currentThemeId===a.wn?a.Ej:o.currentThemeId,o.preferOfficeTheme,o.userPersonalizationAllowed).map((e=>{let n=(0,l.OJ)(e,r,o,null!=t?t:o.appTheme);return null!=t?"unicorn"===e.Id?(n.BackgroundImageRepeat=!1,n.DarkTheme&&(n.DarkTheme.BackgroundImageRepeat=!1),n):(n.BackgroundImageRepeat=!0,n.DarkTheme&&(n.DarkTheme.BackgroundImageRepeat=!0),n):n}));if(null!=t){let e,n,s;u.forEach(((t,r)=>{t.Id===a.wn?e=r:t.Id===a.Ej?n=r:t.Id===a.fy&&(s=r)}));let l=t.DarkTheme;l.BadgeText="#212121";let h=t;h.BadgeText="#FFFFFF";let m=function(e){var t;u[e]=Object.assign(Object.assign({Id:a.wn,Order:20,Name:null!==(t=r.NeutralTheme)&&void 0!==t?t:"Neutral theme"},h),{DarkTheme:l,ThemeType:"App"})};e>0?(m(n),u.splice(e,1)):0===e?(m(e),u.splice(n,1)):m(n),n&&!o.shellThemeData.HasTenantBranding?u.splice(s,1):o.shellThemeData.HasTenantBranding||m(s)}e(u)}))}),!0)}function u(e){let t=(0,s.q4)().getThemeState();t.currentThemeId===a.fy&&!t.preferOfficeTheme||((0,s.Lo)().invoke(e?"EnterSearchMode":"ExitSearchMode"),(0,s.q4)().updateThemeCss(e))}function h(){(0,s.Lo)().subscribe("SuiteAPILoaded",(()=>{(function(){let e=(0,s.q4)().getThemeState();return e.userThemesHandler&&null!=e.isDarkMode?e.userThemesHandler.SaveDarkTheme(e.isDarkMode):Promise.reject(new Error("No UserThemeSettingsHandler provided"))})().catch((e=>(0,s.jl)().exception("UserThemesManager_SaveDarkModeThemeFailure",6,e,[(0,s.q4)().getThemeState().isDarkMode])))}),!0)}function m(e){(0,s.Lo)().subscribe("SuiteAPILoaded",(()=>{(function(e){let t=(0,s.q4)().getThemeState();return t.userThemesHandler&&null!=e?t.userThemesHandler.GetModeLogo(e):Promise.reject(new Error("No UserThemeSettingsHandler provided"))})(e).then((e=>(0,s.q4)().setThemeOverrides({tenantLogoValue:e}))).catch((e=>(0,s.jl)().exception("ThemeSettings_setModeLogo: error in GET API ",6,e,[(0,s.q4)().getThemeState().isDarkMode])))}),!0)}function i(e){let t=(0,s.q4)().getThemeState();return new Promise(((r,n)=>{let o=function(e){let n=null;if(e){let r=(0,s.q4)().getAppTheme();n=(0,l.OJ)(e,{},t,r)}r(n)};e&&""!==e?(e=e.toLowerCase(),t.userThemes[e]&&t.userThemes[e].Name?o(t.userThemes[e]):e===a.Ej?o({Id:a.Ej,Order:20}):c().then((n=>{t=(0,s.q4)().getThemeState(),t.userThemes[e]?o(t.userThemes[e]):r(null)})).catch((()=>{n(null)}))):n(null)}))}function c(){let e=(0,s.q4)().getThemeState(),t=(0,s.q4)().getLoadUserThemesDataJsonUrl();return new Promise(((r,a)=>{t?(0,n.L)(t,(t=>{(0,l.jV)(t);const n=Object.keys(e.userThemes).map((t=>e.userThemes[t]));r(n)}),(e=>{const r=new Error(e.Details.toString());(0,s.jl)().exception("UserThemesManager_LoadUserThemesJsonFailure",6,r,t),a(r)})):a()}))}}}]),HighResolutionTimingSupported&&(shellPerformance.mark("shell_themeplus_end"),shellPerformance.measure("shell_themeplus","shell_themeplus_start","shell_themeplus_end"));